<?php session_start(); require_once "../config/database.php"; require_once "../includes/functions.php"; require_once "../includes/header.php"; requireAdmin(); $page_title = "Payment Management - Admin"; $sql = "SELECT p.*, u.name as student_name, c.title as course_title FROM payments p JOIN users u ON p.student_id = u.id JOIN courses c ON p.course_id = c.id ORDER BY p.payment_date DESC"; $payments = $conn->query($sql); ?> <div class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8"><div class="px-4 py-6 sm:px-0"><h1 class="text-3xl font-bold text-gray-900">Payment Management</h1></div><div class="bg-white shadow overflow-hidden sm:rounded-md"><div class="px-4 py-5 sm:px-6"><h3 class="text-lg leading-6 font-medium text-gray-900">All Payments (<?php echo $payments->num_rows; ?> total)</h3></div><ul class="divide-y divide-gray-200"><?php while ($payment = $payments->fetch_assoc()): ?><li class="px-4 py-4"><div class="flex items-center justify-between"><div><h4 class="text-lg font-medium text-gray-900"><?php echo htmlspecialchars($payment["student_name"]); ?></h4><p class="text-sm text-gray-600"><?php echo htmlspecialchars($payment["course_title"]); ?></p><p class="text-sm text-gray-500">â‚¹<?php echo number_format($payment["amount"], 2); ?></p></div></div></li><?php endwhile; ?></ul></div></div>

<?php require_once '../includes/footer.php'; ?>